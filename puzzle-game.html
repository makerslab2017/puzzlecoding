<!DOCTYPE html>
<!--페이지로딩후 html 노출-->
<html lang="ko" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="icon/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/jquery.bxslider.css" rel="stylesheet"/>
  <link rel="stylesheet" href="js/Swiper-3.3.1/dist/css/swiper.min.css">
  <link href="css/summernote.css" rel="stylesheet">
  <link rel="stylesheet" href="css/common.css">
  <script src="js/Swiper-3.3.1/dist/js/swiper.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script src="js/aws-cognito-sdk.min.js"></script>
  <script src="js/amazon-cognito-identity.min.js"></script>
  <script src="js/aws-sdk.min.js"></script>
  <script src="js/aws-cognito-config.js"></script>
  <script src="js/custom.js"></script>
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script src="js/jquery.bxslider/jquery.bxslider.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script src="js/summernote.min.js"></script>
  <script src="js/summernote-ko-KR.js"></script>

  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
</head>
  <body>
    <!-- 헤더 시작 -->
    <div id="gnb-wrapper">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class='zeta-menu-bar'>
              <a href="index.html" style="float: left;line-height: 84px;"><img src="img/logo.png" alt="로고이미지"></a>
              <ul class="zeta-menu">
                  <li>
                    <a href="about-coding-puzzle.html" class="gnb-info">소개</a>
                  </li>
                  <li>
                    <a href="#" class="gnb-education">코딩퍼즐학습</a>
                    <ul>
                      <li>
                        <a href="introduce.html" class="gnb-edu">교육과정</a>
                      </li>
                      
                      <li class="for-educator">
                        <a href="progress-status.html" class="gnb-edu">학습진도현황</a>
                      </li>
					  <li class="for-educator">
						<a href="studying_materials.html" class="gnb-edu">학습교재</a>
					  </li>
                    </ul>
                  </li>
                  <!--
                  <li>
                    <a href="1hour-coding-game.html" class="gnb-1hour">1 Hour of code</a>
                  </li>
                  -->
                  <li>
                      <a href="#" class="gnb-puzzle-maker">퍼즐메이커</a>
                      <ul>
                        <li>
                          <a href="puzzle-intro.html" class="gnb-puzzle">퍼즐메이커 소개</a>
                        </li>
                        <li>
                          <a href="puzzle-game.html" class="gnb-puzzle">퍼즐 만들기</a>
                        </li>
                        <li>
                          <a href="gallery.html" class="gnb-puzzle">퍼즐 갤러리</a>
                        </li>
                      </ul>
                    </li>
                  <!--
                  <li>
                    <a href="#" class="gnb-community">커뮤니티</a>
                    <ul>
                      <li>
                        <a href="board-list.html" class="gnb-board">자유게시판</a>
                      </li>
                      <li>
                        <a href="qa-board-list.html" class="gnb-board">Q&amp;A</a>
                      </li>
                    </ul>
                  </li>
                  -->
                </ul>
              <div id="gnb-nav-btn">
                <i class="fa fa-bars" aria-hidden="true"></i>
              </div>
            </div>

          </div>
          <div style="position: absolute; right: 0">
              <span class="menu-user menu-signup">혹은<a href="_signUp.html">사용자등록</a></span>
              <span class="menu-user menu-login" tabindex=3><a req="login">로그인</a></span>
              <span class="menu-user menu-user-password"><input type="password" name="menu-user-password" placeholder="비밀번호" size="10" tabindex=2></span>
              <span class="menu-user menu-user-id"><input type="type" name="menu-user-id" placeholder="사용자명" size="10" tabindex=1> </span>
              <span class="menu-user menu-login-userid"></span>
            </div>
        </div>
      </div>
    </div>
    <!--모바일 GNB-->
    <div id="Gnb-frame">
        <div id="Gnb-profile">
          <div id="Gnb-profile-photo-frame">
            <div id="Gnb-profile-photo">
              <img src="./img/gnb-photo.jpg">
            </div>
          </div>
          <div id="Gnb-profile-info">
            <span>
              isslea
            </span>
          </div>
          <div id="gnb-nav-close">
            <i class="fa fa-bars" aria-hidden="true"></i>
          </div>
        </div>
    
        <div id="Gnb-menu">
          <!--
          <div class="login">
            <img src="img/logout.png">
          </div>
          -->
          <ul>
            <span>
              <a href="about-coding-puzzle.html">코딩퍼즐 소개</a>
            </span>
          </ul>
    
          <ul id="Gnb-downMenu1">
            <span>코딩퍼즐 학습</span>
            <li>
              <a href="introduce.html">교육과정 소개</a>
            </li>
            <li class="for-educator">
              <a href="progress-status.html">학습진도 현황</a>
            </li>
          </ul>
          <!--
          <ul>
            <span>
              <a href="1hour-coding-game.html">1Hour of Code</a>
            </span>
          </ul>
          -->
    
          <ul id="Gnb-downMenu2">
            <span>퍼즐메이커</span>
            <li>
              <a href="puzzle-intro.html">퍼즐메이커 소개</a>
            </li>
            <li>
              <a href="puzzle-game.html">퍼즐 만들기</a>
            </li>
            <li>
              <a href="gallery.html">퍼즐 공유하기</a>
            </li>
          </ul>
    
          <!--
          <ul id="Gnb-downMenu3">
            <span>커뮤니티</span>
            <li>
              <a href="board-list.html">자유게시판</a>
            </li>
            <li>
              <a href="qa-board-list.html">Q&amp;A</a>
            </li>
          </ul>
          -->
        </div>
      </div>
    <!--헤더 끝-->

    <!--페이지 시작-->
    <div id="page-wrapper">
      <div class="bg-blue row" style="min-height:300px;">
        <div class="container">
          <section class="banner-text col-md-10" style="max-width:100%">
            <p><a href="puzzle-intro.html">퍼즐메이커</a>
              <span>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </span>
              <a href="puzzle-game.html">
              퍼즐만들기</a></p>
            <h2><img src="img/gear.png" alt="톱니바퀴 이미지">
              퍼즐만들기
            </h2>
            <p class="lh2">
              퍼즐크래프트는 자신이 코딩퍼즐 게임에서 활용할 수 있는 퍼즐을 자신이 직접 만들 수 있는 도구입니다. 본페이지에서 제공하는 앱을 통해 손쉽게 만들 수 있습니다.
            </p>
          </section>
        </div>
      </div>
      <div class="container puzzle-game">
        <div class="row">
          <!--
          <div class="col-sm-3">
            <section class="tip">
              <h2>!TIP</h2>
              <p>아래버튼을 클릭하시면</p>
              <p>팁 동영상을 보실 수 있습니다.</p>
              <ul>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  최대글자수 최대글
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
                <li>
                  <div class="blue-circle">
                    <i class="fa fa-play"></i>
                  </div>
                  타일만들기
                </li>
              </ul>
            </section>
          </div>
          -->
          <div class="col-md-10 col-md-offset-1">
            <div class="making-puzzle">
                <label>퍼즐 만들기 순서</label>
                <p>1. 제목과 내용을 작성합니다.</p>
                <p>2. 퍼즐메이커를 로드합니다.</p>
                <p>3. 퍼즐을 만들고 저장합니다. <a href ="https://youtu.be/LR6RU8PvAfY" target="_blank" ><font color="blue">[퍼즐메이커 사용법]</font></a></p>
                <p></p>4. 업로드 버튼을 눌러 제목과 내용, 퍼즐을 업로드 합니다.</p>
              <label>퍼즐제목</label>
              <input id="title" type="text" placeholder="퍼즐의 제목을 써주세요!"></input>
              
              <div class="text-html">
                <div class="flex-box">
                  <label>퍼즐내용</label>
                  <div class="flex-box-inner">
                    <!--<span>TEXT</span>-->
                    <span class="text-active">HTML</span>
                  </div>
                </div>
                <div id="summernote">
                </div>
                
                  <!--<textarea placeholder="소개글을 써주세요." style="display:none;"></textarea>-->
              </div>

              <div class="making-puzzle-game">
                <p>다음 버튼을 누르면 퍼즐에디터가 나옵니다. 로딩시 시간이 소요될 수 있으니 기다려주세요.</p>
                <p>맨 왼쪽 메뉴 버튼을 누르면 메뉴 화면이 나옵니다.</p>
                <div class="main-about-coding-button" id="puzzle-editor-loader" style="margin: 20px auto;">퍼즐에디터 로드하기</div>
                <div class="flex-box" style="justify-content: center">
                  <div class="webgl-content">
                    <div>
                      <div id="gameContainer" style="width: 1280px; height: 720px;"></div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="functions">
                <div class="function-btns">
                    <img src="img/share.png" alt="공유하기 버튼">
                </div>
                <div class="function-btns">
                  <img src="img/save.png" alt="저장하기 버튼">
                </div>
                <div class="function-btns">
                  <img src="img/delete.png" alt="삭제하기 버튼">
                </div>
                <div class="function-btns" id="goto-gallery">
                    <i class="material-icons">view_list</i>
                </div>
                <button id="uploadPuzzle" type="submit">
                  <img src="img/upload.png" alt="업로드버튼" class="upload-origin">
                  <img src="img/upload_hover.png" alt="업로드버튼" class="upload-hover">
                    업로드 하기
                </button>
                  
                <script>
                  $('#puzzle-editor-loader').on('click', ()=>loadModule('editor') );
                  $('#goto-gallery').on('click', ()=>window.location.href = './gallery.html');
                  $('#uploadPuzzle').on('click', ()=> {

                    data = localStorage.getItem('latestEditedPuzzle');
                    if (data == null) {
                      swal("아직 퍼즐을 만들지 않았습니다. 먼저 퍼즐을 만들어주세요.")
                      return;
                    }
                    json_data = JSON.parse(data);
                    var item = {
                        title: $('#title').val(),
                        description: $('#summernote').summernote('code'),
                        public: true,
                        data: json_data
                    };
                    puzzleAPI.currentUser();
                    if (puzzleAPI.cognitoUser == null) {
                      swal('등록한 사용자만이 퍼즐을 게시할 수 있습니다.', { 
                          buttons: {
                            cancel: '계속 퍼즐 만들기',
                            catch: {
                              text: '등록 페이지로 이동',
                              value: 'catch'
                            }
                          }
                      }).then( (value) => {
                        localStorage.removeItem('latestEditedPuzzle');
                        if (value == "catch") window.location.href = "_signUp.html";
                      });
                      return;                   
                    }
                    $.ajax( { type: 'POST', url: puzzleAPI.apiUrl + 'puzzles',
                      headers: {
                        'Authorization' : puzzleAPI.token
                      },
                      data: JSON.stringify(item),
                      success: (data) => {
                        swal('퍼즐을 성공적으로 등록하였습니다.', { 
                          buttons: {
                            cancel: '계속 퍼즐 만들기',
                            catch: {
                              text: '퍼즐 갤러리로 이동',
                              value: 'catch'
                            }
                          }
                        }).then( (value) => {
                          localStorage.removeItem('latestEditedPuzzle');
                          if (value == "catch") window.location.href = "gallery.html";
                        });
                      },
                      fail: (err) => {
                        swal('안에 제목, 내용이 비었거나 퍼즐을 만들지 않았네요. 퍼즐에디터 오른쪽 상단 메뉴를 누르시고 저장하기를 선택해주세요. 다시 시도해보세요.');
                      }
                    });


                  });
                  $(document).ready(function() {
                    $('#summernote').summernote({
                      lang: 'ko-KR',
                      height: 300,                      
                      minHeight: null,
                      maxHeight: null,
                      placeholder: '소개글을 써주세요.'
                    });
                  });
                </script>
              </div>
            </div>
          </div> <!-- end of sm -->
        </div> <!-- end of row -->
      </div> <!-- end of container -->
    </div> <!-- end of page wrapper -->
  


    <!--푸터시작-->
    <footer>
        <div class="tail-row">
          <div class="tail-colum-1">
            <img src="img/logo.png" alt="메이커스랩 로고이미지">
          </div>
          <div class="tail-colum-2">
            <p>30016 세종특별자치시 조치원읍 세종로 2639 B동 233호</p>
            <p>책임자: 서범주 / 연락처: 044-860-2870, 이메일: <a href="mailto:bseo@hongik.ac.kr"> bseo@hongik.ac.kr</a></a></p>
          </div>
          <div class="tail-colum-3">
            <p>본 콘텐츠의 저작권은 제공처에 있으며, 이를 무단이용하는 경우,</p>
            <p>저작권법 등에 따라 법적책임을 질 수 있습니다.</p>
            <p>Copyright © 2016 - 2017 MakersLab, Inc.  기업부설연구소. All rights reserved.</p>
          </div>
        </div>
      </footer>
    <!--푸터 끝-->
  </body>
